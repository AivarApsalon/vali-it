<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="utf-8">
    <title> AA Bank </title>
    <link rel="stylesheet" href="../styles_bank2.css">
</head>

<body>

<header>
    <div class="container">

        AA Bank

        <nav>

            <ul>
                <li><a href="bank2_home.html">Home</a></li>
                <li><a href="bank2_create_customer.html">Create Customer</a></li>
                <li><a href="bank2_add_account.html">Add Account</a></li>
                <li><a href="bank2_deposit.html">Deposit</a></li>
                <li><a href="bank2_withdraw.html">Withdraw</a></li>
                <li><a href="bank2_transfer.html">Transfer</a></li>
                <li><a href="bank2_get_balance.html">Get Balance</a></li>
                <li><a href="bank2_customers_list.html">Customers List</a></li>
            </ul>
        </nav>

    </div>
</header>

<h1> Customers List </h1>
<div class="table">
    <table id="customersTable">
        <tr>
            <th>ID Card Nr</th>
            <th>Name</th>
            <th>Family Name</th>
            <th>Customer ID</th>
        </tr>
    </table>
    <button id="allCustomersButton">Get All Customers</button>
</div>
<script>

    function getAllCustomers() {
        fetch('/bank2/customers-list')
            .then(result => result.json())
            .then(function (result) {
                let tableElement = document.getElementById("customersTable");
                tableElement.innerHTML = "";
                for (let element of result) {
                    let newRowElement = document.createElement("tr");
                    tableElement.appendChild(newRowElement)

                    let newCellElement = document.createElement("td");
                    newCellElement.innerText = element.idCardNr;
                    newRowElement.appendChild(newCellElement)

                    newCellElement = document.createElement("td");
                    newCellElement.innerText = element.name;
                    newRowElement.appendChild(newCellElement)

                    newCellElement = document.createElement("td");
                    newCellElement.innerText = element.familyName;
                    newRowElement.appendChild(newCellElement)

                    newCellElement = document.createElement("td");
                    newCellElement.innerText = element.customerId;
                    newRowElement.appendChild(newCellElement)
                }
                console.log(result);
            })
    }

    let button = document.getElementById("allCustomersButton");
    button.onclick = getAllCustomers;

</script>

<hr style="height:1px;border-width:0;color:gray;background-color:darkgray; margin-left: 0px; margin-right: 1100px">




</body>
</html>
